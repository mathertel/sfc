"use strict";class UComponent extends HTMLElement{static observedAttributes=[];uRoot=this;sfcConnected=!1;uTemplate=this.constructor.uTemplate;uStyle=this.constructor.uStyle;#e=!1;extends;constructor(){super();for(const t of this.constructor.observedAttributes)Object.defineProperty(this,t,{set(s){this.setAttribute(t,s)},get(){return this.getAttribute(t)}});const e=this.uTemplate;if(e){let t="open";e.hasAttribute("light")&&(t="light"),e.hasAttribute("closed")&&(t="closed"),t==="light"?this.appendChild(document.importNode(e.content,!0)):(this.uRoot=this.attachShadow({mode:t}),this.uRoot.appendChild(document.importNode(e.content,!0)))}const a=this.uStyle;if(a){const t=a.cloneNode(!0);a.hasAttribute("scoped")?this.uRoot.insertBefore(t,this.uRoot.firstChild):this.#e||(document.head.insertAdjacentElement("afterbegin",t),this.#e=!0)}}connectedCallback(){this.sfcConnected||(this.sfcConnected=!0,Object.getOwnPropertyNames(this.constructor.prototype).filter(e=>e.startsWith("on")).forEach(e=>{e.toLowerCase(),this.addEventListener(e.substring(2).toLowerCase(),this)}),document.readyState==="loading"?window.addEventListener("DOMContentLoaded",this.init.bind(this)):window.requestAnimationFrame(this.init.bind(this)))}init(){}handleEvent(e){this["on"+e.type](e)}}const loaderURL=document.currentScript.src;function loadComponent(o,e=void 0){async function a(s,c=void 0){let i;c?i=new URL(c,document.location.href):i=new URL(loaderURL);const n=new URL(s+".sfc",i),r=await fetch(n).then(l=>l.text()).then(l=>new DOMParser().parseFromString(l,"text/html")),d=r.querySelectorAll("sfc");if(d.length===0)await t(s,r,i);else for(const l of d)await t(l.getAttribute("tag"),l,i)}async function t(s,c,i){let n;const r=c.querySelector("script");if(r&&r.textContent){const d=new Blob([r.textContent],{type:"application/javascript"});n=(await import(URL.createObjectURL(d))).default,n.extends=r.getAttribute("extends")}else n=UComponent;n.uTemplate=c.querySelector("template"),n.uStyle=c.querySelector("style"),n.uTemplate?.content.querySelectorAll("script").forEach(d=>{d.src=new URL(d.src,i).href}),n.extends?(customElements.define(s,n,{extends:n.extends}),n.uStyle&&document.head.appendChild(n.uStyle.cloneNode(!0))):customElements.define(s,n)}return typeof o=="string"&&(o=o.split(",")),Promise.all(o.map(s=>a(s,e)))}function _genID(o="id"){const e=window.sfc._ids;return e[o]||(e[o]=0),e[o]++,o+"-"+e[o]++}window.loadComponent=loadComponent,window.sfc={loaderURL,loadComponent,genID:_genID,_ids:{}};
